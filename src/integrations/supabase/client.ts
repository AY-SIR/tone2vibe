// This file is automatically generated. Do not edit it directly.
import { createClient } from '@supabase/supabase-js';
import type { Database } from './types';

const SUPABASE_URL = "https://msbmyiqhohtjdfbjmxlf.supabase.co";
const SUPABASE_PUBLISHABLE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1zYm15aXFob2h0amRmYmpteGxmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ0MDk2MzIsImV4cCI6MjA2OTk4NTYzMn0.TkCDTkST4CNAEvMOC08GI7jvS0mlJ5hhMsKxw7heDak";

export const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {
  auth: {
    storage: localStorage,
    persistSession: true,
    autoRefreshToken: true,
  }
});

// Enhanced security: Completely disable all console logging in production
if (typeof window !== 'undefined' && window.location.hostname !== 'localhost' && !window.location.hostname.includes('127.0.0.1')) {
  // Store original console methods
  const originalConsole = {
    log: console.log,
    error: console.error,
    warn: console.warn,
    info: console.info,
    debug: console.debug,
    table: console.table,
    dir: console.dir,
    trace: console.trace,
    group: console.group,
    groupEnd: console.groupEnd,
    time: console.time,
    timeEnd: console.timeEnd
  };
  
  // Override all console methods to prevent any sensitive data leakage
  const noOp = () => {};
  
  console.log = noOp;
  console.error = noOp;
  console.warn = noOp;
  console.info = noOp;
  console.debug = noOp;
  console.table = noOp;
  console.dir = noOp;
  console.trace = noOp;
  console.group = noOp;
  console.groupEnd = noOp;
  console.time = noOp;
  console.timeEnd = noOp;
  
  // Also override any potential console access through window
  if (window.console) {
    Object.keys(originalConsole).forEach(key => {
      (window.console as any)[key] = noOp;
    });
  }
  
  // Prevent access to console through developer tools
  Object.defineProperty(window, 'console', {
    value: new Proxy({}, {
      get() { return noOp; },
      set() { return true; }
    }),
    writable: false,
    configurable: false
  });
}